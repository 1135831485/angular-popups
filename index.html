<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Angular-popups by aui</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Angular-popups</h1>
      <h2 class="project-tagline">基于Angularjs的浮层组件</h2>
      <a href="https://github.com/aui/angular-popups" class="btn">View on GitHub</a>
      <a href="https://github.com/aui/angular-popups/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/aui/angular-popups/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="angular-popups" class="anchor" href="#angular-popups" aria-hidden="true"><span class="octicon octicon-link"></span></a>angular-popups</h1>

<p>基于 AngularJS 的浮层组件，由 <a href="https://github.com/aui/artDialog">artDialog</a> 演进而来。angular-popups 是一个严格遵循 AngularJS 架构与 web 标准的组件：</p>

<ol>
<li>使用 AngularJS 自带的 <code>ng-if</code>、<code>ng-show</code>、<code>ng-hide</code> 控制浮层的显示、销毁</li>
<li>支持 ARIA 规范、无障碍焦点管理、快捷键关闭</li>
<li>完全基于 HTML 标签（指令），无需在控制器中进行配置</li>
<li>可以指定元素或鼠标事件对象（<code>$event</code>）对齐</li>
<li>支持模态浮层</li>
<li>对移动端支持友好</li>
<li>轻量（7kb），不依赖 jQuery 等外部库</li>
</ol>

<p>演示站点：<a href="https://aui.github.io/angular-popups/">https://aui.github.io/angular-popups/</a></p>

<h2>
<a id="使用" class="anchor" href="#%E4%BD%BF%E7%94%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用</h2>

<p>支持使用 script 标签或者 webpack、requirejs、seajs 调用：</p>

<h3>
<a id="script" class="anchor" href="#script" aria-hidden="true"><span class="octicon octicon-link"></span></a>script</h3>

<p>调用</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>lib/angular.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>dist/angular-popups.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
<span class="pl-s1">&lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s1">    <span class="pl-k">var</span> app <span class="pl-k">=</span> <span class="pl-smi">angular</span>.<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>angular-popups<span class="pl-pds">'</span></span>]);</span>
<span class="pl-s1">&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>

<h3>
<a id="webpack" class="anchor" href="#webpack" aria-hidden="true"><span class="octicon octicon-link"></span></a>webpack</h3>

<p>安装</p>

<div class="highlight highlight-source-shell"><pre>npm install angular-popups</pre></div>

<p>调用</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>angular-popups<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> app <span class="pl-k">=</span> <span class="pl-smi">angular</span>.<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>angular-popups<span class="pl-pds">'</span></span>]);</pre></div>

<blockquote>
<p>angular-popups 依赖 <code>angular</code> 这个全局模块</p>
</blockquote>

<h2>
<a id="指令" class="anchor" href="#%E6%8C%87%E4%BB%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>指令</h2>

<p>包含如下浮层指令：</p>

<ul>
<li><a href="#dialog"><code>dialog</code> 对话框指令</a></li>
<li><a href="#bubble"><code>bubble</code> 气泡指令</a></li>
<li><a href="#notice"><code>notice</code> 通知消息指令</a></li>
<li><a href="#popup"><code>popup</code> 透明浮层指令</a></li>
</ul>

<h3>
<a id="浮层通用参数" class="anchor" href="#%E6%B5%AE%E5%B1%82%E9%80%9A%E7%94%A8%E5%8F%82%E6%95%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>浮层通用参数</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ng-if</td>
<td>显示或隐藏浮层（DOM 插入或删除）</td>
</tr>
<tr>
<td>ng-show</td>
<td>显示浮层</td>
</tr>
<tr>
<td>ng-hide</td>
<td>隐藏浮层</td>
</tr>
<tr>
<td>for</td>
<td>指定元素对齐，传入目标元素 ID 即可</td>
</tr>
<tr>
<td>align</td>
<td>对齐的参数，此参数需要与 <code>for</code> 配合使用。可选值：<code>"top left"</code> <code>"top"</code> <code>"top right"</code> <code>"right top"</code> <code>"right"</code> <code>"right bottom"</code> <code>"bottom right"</code> <code>"bottom"</code> <code>"bottom left"</code> <code>"left bottom"</code> <code>"left"</code> <code>"left top"</code>
</td>
</tr>
<tr>
<td>fixed</td>
<td>使用固定定位，等同于 CSS fixed</td>
</tr>
<tr>
<td>modal</td>
<td>模态浮层</td>
</tr>
<tr>
<td>duration</td>
<td>自动关闭的时间（单位毫秒）</td>
</tr>
<tr>
<td>close</td>
<td>浮层关闭事件</td>
</tr>
</tbody>
</table>

<blockquote>
<p><code>ng-if</code>、<code>ng-show</code> 如果传入的是 <code>$event</code>，则浮层会定位到事件触发位置</p>
</blockquote>

<h2>
<a id="dialog" class="anchor" href="#dialog" aria-hidden="true"><span class="octicon octicon-link"></span></a>dialog</h2>

<p>对话框指令</p>

<h3>
<a id="子指令" class="anchor" href="#%E5%AD%90%E6%8C%87%E4%BB%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>子指令</h3>

<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>dialog-title</td>
<td>对话框标题容器</td>
</tr>
<tr>
<td>dialog-content</td>
<td>对话框内容容器</td>
</tr>
<tr>
<td>dialog-buttons</td>
<td>对话框按钮容器</td>
</tr>
<tr>
<td>dialog-statusbar</td>
<td>对话框状态栏容器</td>
</tr>
</tbody>
</table>

<blockquote>
<p>对话框子指令中的事件可以使用 <code>$close()</code> 这个函数，它会调用通用参数 <code>close</code> 中的表达式</p>
</blockquote>

<h3>
<a id="示例" class="anchor" href="#%E7%A4%BA%E4%BE%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>示例</h3>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">dialog</span> <span class="pl-e">ng-if</span>=<span class="pl-s"><span class="pl-pds">"</span>dialog.open<span class="pl-pds">"</span></span> <span class="pl-e">close</span>=<span class="pl-s"><span class="pl-pds">"</span>dialog.open=false<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">dialog-title</span>&gt;消息&lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">dialog-content</span>&gt;hello world&lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">dialog</span>&gt;</pre></div>

<p>在线演示：</p>

<ol>
<li><a href="https://aui.github.io/angular-popups/example/dialog-ng-if.html">普通对话框</a></li>
<li><a href="https://aui.github.io/angular-popups/example/dialog-modal.html">模态对话框</a></li>
<li><a href="https://aui.github.io/angular-popups/example/dialog-dialog-buttons.html">带按钮的对话框</a></li>
<li><a href="https://aui.github.io/angular-popups/example/dialog-dialog-statusbar.html">带状态栏的对话框</a></li>
<li><a href="https://aui.github.io/angular-popups/example/dialog-dialog-title.html">无标题的对话框</a></li>
<li><a href="https://aui.github.io/angular-popups/example/dialog-close.html">无关闭按钮的对话框</a></li>
<li><a href="https://aui.github.io/angular-popups/example/dialog-for-align.html">带箭头的对话框</a></li>
<li><a href="https://aui.github.io/angular-popups/example/dialog-fixed.html">fixed 定位的对话框</a></li>
<li><a href="https://aui.github.io/angular-popups/example/dialog-duration.html">自动关闭的对话框</a></li>
</ol>

<h2>
<a id="bubble" class="anchor" href="#bubble" aria-hidden="true"><span class="octicon octicon-link"></span></a>bubble</h2>

<p>气泡浮层指令</p>

<h3>
<a id="示例-1" class="anchor" href="#%E7%A4%BA%E4%BE%8B-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>示例</h3>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">button</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>btn<span class="pl-pds">"</span></span> <span class="pl-e">ng-click</span>=<span class="pl-s"><span class="pl-pds">"</span>bubble.open = true<span class="pl-pds">"</span></span>&gt;打开气泡&lt;/<span class="pl-ent">button</span>&gt;
&lt;<span class="pl-ent">bubble</span> <span class="pl-e">ng-if</span>=<span class="pl-s"><span class="pl-pds">"</span>bubble.open<span class="pl-pds">"</span></span> <span class="pl-e">for</span>=<span class="pl-s"><span class="pl-pds">"</span>btn<span class="pl-pds">"</span></span> <span class="pl-e">close</span>=<span class="pl-s"><span class="pl-pds">"</span>bubble.open=false<span class="pl-pds">"</span></span>&gt;
    hello world
&lt;/<span class="pl-ent">bubble</span>&gt;</pre></div>

<p>在线演示：</p>

<ol>
<li><a href="https://aui.github.io/angular-popups/example/bubble.html">普通气泡</a></li>
<li><a href="https://aui.github.io/angular-popups/example/bubble-for-align.html">自定义气泡方向</a></li>
<li><a href="https://aui.github.io/angular-popups/example/bubble-close.html">不被关闭的气泡</a></li>
</ol>

<h2>
<a id="notice" class="anchor" href="#notice" aria-hidden="true"><span class="octicon octicon-link"></span></a>notice</h2>

<p>通知消息指令</p>

<h3>
<a id="示例-2" class="anchor" href="#%E7%A4%BA%E4%BE%8B-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>示例</h3>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">notice</span> <span class="pl-e">ng-if</span>=<span class="pl-s"><span class="pl-pds">"</span>notice.open<span class="pl-pds">"</span></span> <span class="pl-e">duration</span>=<span class="pl-s"><span class="pl-pds">"</span>2000<span class="pl-pds">"</span></span> <span class="pl-e">close</span>=<span class="pl-s"><span class="pl-pds">"</span>notice.open=false<span class="pl-pds">"</span></span>&gt;
    hello world
&lt;/<span class="pl-ent">notice</span>&gt;</pre></div>

<p>在线演示：</p>

<ol>
<li><a href="https://aui.github.io/angular-popups/example/notice.html">普通通知浮层</a></li>
<li><a href="https://aui.github.io/angular-popups/example/notice-modal.html">模态通知浮层</a></li>
</ol>

<h2>
<a id="popup" class="anchor" href="#popup" aria-hidden="true"><span class="octicon octicon-link"></span></a>popup</h2>

<p>透明浮层指令</p>

<blockquote>
<p>无任何样式，可以用来制作自定义形状的浮层</p>
</blockquote>

<h3>
<a id="示例-3" class="anchor" href="#%E7%A4%BA%E4%BE%8B-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>示例</h3>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">popup</span> <span class="pl-e">ng-if</span>=<span class="pl-s"><span class="pl-pds">"</span>popup.open<span class="pl-pds">"</span></span> <span class="pl-e">close</span>=<span class="pl-s"><span class="pl-pds">"</span>popup.open=false<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>mod-popup-example<span class="pl-pds">"</span></span>&gt;hello world&lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">popup</span>&gt;</pre></div>

<p>在线演示：</p>

<ol>
<li><a href="https://aui.github.io/angular-popups/example/popup.html">自定义浮层</a></li>
<li><a href="https://aui.github.io/angular-popups/example/popup-contextmenu.html">创建右键菜单</a></li>
</ol>

<h2>
<a id="服务" class="anchor" href="#%E6%9C%8D%E5%8A%A1" aria-hidden="true"><span class="octicon octicon-link"></span></a>服务</h2>

<p>若想在 js 代码中调用浮层相关控件，可以使用 <code>Popup</code> 服务。</p>

<h3>
<a id="方法" class="anchor" href="#%E6%96%B9%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>方法</h3>

<ul>
<li>Popup.alert(content, ok)</li>
<li>Popup.confirm(content, ok, cancel)</li>
<li>Popup.notice(content, duration, ok);</li>
</ul>

<blockquote>
<p><code>Popup</code> 服务仅支持文本消息，HTML 内容请使用指令</p>
</blockquote>

<h3>
<a id="配置" class="anchor" href="#%E9%85%8D%E7%BD%AE" aria-hidden="true"><span class="octicon octicon-link"></span></a>配置</h3>

<p>配置默认的标题以及按钮文案</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">app</span>.<span class="pl-en">config</span>(<span class="pl-k">function</span> (<span class="pl-smi">PopupProvider</span>) {
    <span class="pl-smi">PopupProvider</span>.<span class="pl-c1">title</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>提示<span class="pl-pds">'</span></span>;
    <span class="pl-smi">PopupProvider</span>.<span class="pl-smi">okValue</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>确定<span class="pl-pds">'</span></span>;
    <span class="pl-smi">PopupProvider</span>.<span class="pl-smi">cancelValue</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>取消<span class="pl-pds">'</span></span>;
});</pre></div>

<h3>
<a id="示例-4" class="anchor" href="#%E7%A4%BA%E4%BE%8B-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>示例</h3>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">app</span>.<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>testCtrl<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">$scope</span>, <span class="pl-smi">Popup</span>) {
    <span class="pl-smi">Popup</span>.<span class="pl-c1">alert</span>(<span class="pl-s"><span class="pl-pds">'</span>hello world<span class="pl-pds">'</span></span>, <span class="pl-k">function</span> () {
        <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>ok<span class="pl-pds">'</span></span>);
    });
});</pre></div>

<p>在线演示：</p>

<ol>
<li><a href="https://aui.github.io/angular-popups/example/services.html">在控制器中使用 <code>Popup</code> 服务</a></li>
</ol>

<h2>
<a id="兼容性" class="anchor" href="#%E5%85%BC%E5%AE%B9%E6%80%A7" aria-hidden="true"><span class="octicon octicon-link"></span></a>兼容性</h2>

<ul>
<li>Chrome</li>
<li>Firefox</li>
<li>IE9+</li>
</ul>

<h2>
<a id="更新日志" class="anchor" href="#%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>更新日志</h2>

<p><a href="./CHANGELOG.md">CHANGELOG.md</a></p>

<h2>
<a id="许可" class="anchor" href="#%E8%AE%B8%E5%8F%AF" aria-hidden="true"><span class="octicon octicon-link"></span></a>许可</h2>

<p><a href="./LICENSE">MIT</a></p>

<hr>

<p><img src="http://aui.github.io/angular-popups/qr-alipay.png" alt="支付宝二维码"></p>

<p>喜欢这个项目？捐助一杯咖啡支持下（￥28）</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/aui/angular-popups">Angular-popups</a> is maintained by <a href="https://github.com/aui">aui</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
